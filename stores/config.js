"use strict";const e=require("../common/vendor.js"),i=require("../app/api/auth.js");require("../app/stores/diy.js"),require("./member.js"),require("./system.js");const s=e.defineStore("config",{state:()=>({login:{is_username:0,is_mobile:0,is_auth_register:0,is_force_access_user_info:0,is_bind_mobile:0,wechat_error:"",agreement_show:0,bg_url:"",logo:"",desc:""},tabbarList:{},tabbar:null,addon:"",themeColor:""}),actions:{async getLoginConfig(){await i.getConfig({url:""}).then((e=>{this.login.is_username=e.data.is_username,this.login.is_mobile=e.data.is_mobile,this.login.is_auth_register=parseInt(e.data.is_auth_register),this.login.is_force_access_user_info=parseInt(e.data.is_force_access_user_info),this.login.is_bind_mobile=parseInt(e.data.is_bind_mobile),this.login.agreement_show=parseInt(e.data.agreement_show),this.login.bg_url=e.data.bg_url,this.login.logo=e.data.logo,this.login.desc=e.data.desc}))},getThemeColor(){let i=e.index.getStorageSync("current_theme_color");if(!this.themeColor&&i&&(this.themeColor=JSON.parse(i)),this.themeColor){let e="";for(let i in this.themeColor)e+=`${i}:${this.themeColor[i]};`;return e}return""}}});exports.useConfigStore=s;

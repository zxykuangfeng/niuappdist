"use strict";const e=require("../../../../common/vendor.js"),o=require("../../../../utils/common.js"),r=require("../../../stores/diy.js");if(require("../../../../utils/pages.js"),require("../../../../stores/member.js"),require("../../../api/member.js"),require("../../../../utils/request.js"),require("../../../../locale/index.js"),require("../../../../locale/i18n.js"),require("../../../../locale/language.js"),require("../../../../stores/system.js"),require("../../../api/system.js"),require("../../../../stores/config.js"),require("../../../api/auth.js"),require("../../../../hooks/useLogin.js"),!Array){e.resolveComponent("u-popup")()}Math;const t=e.defineComponent({__name:"index",props:["component","index"],setup(t){const n=t,u=r.useDiyStore(),a=e.ref(!1),i=e.ref(""),l=e.computed((()=>"decorate"==u.mode?u.value[n.index]:n.component)),s=e.computed((()=>{var e="";return e+="position:relative;",l.value.componentStartBgColor&&(l.value.componentStartBgColor&&l.value.componentEndBgColor?e+=`background:linear-gradient(${l.value.componentGradientAngle},${l.value.componentStartBgColor},${l.value.componentEndBgColor});`:e+="background-color:"+l.value.componentStartBgColor+";"),l.value.componentBgUrl&&(e+=`background-image:url('${o.img(l.value.componentBgUrl)}');`,e+="background-size: cover;background-repeat: no-repeat;"),l.value.topRounded&&(e+="border-top-left-radius:"+2*l.value.topRounded+"rpx;"),l.value.topRounded&&(e+="border-top-right-radius:"+2*l.value.topRounded+"rpx;"),l.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*l.value.bottomRounded+"rpx;"),l.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*l.value.bottomRounded+"rpx;"),e})),d=e.computed((()=>{var e="";return l.value.componentBgUrl&&(e+="position:absolute;top:0;width:100%;",e+=`background: rgba(0,0,0,${l.value.componentBgAlpha/10});`,e+=`height:${v.value}px;`,l.value.topRounded&&(e+="border-top-left-radius:"+2*l.value.topRounded+"rpx;"),l.value.topRounded&&(e+="border-top-right-radius:"+2*l.value.topRounded+"rpx;"),l.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*l.value.bottomRounded+"rpx;"),l.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*l.value.bottomRounded+"rpx;")),e})),p=e.ref(0),c=e.ref(0),m=e.ref("");e.ref(0),e.ref(800);const f=()=>{"horizontal"==l.value.scrollWay&&setTimeout((()=>{e.nextTick$1((()=>{}))}))};e.onMounted((()=>{f(),y(),"decorate"==u.mode&&e.watch((()=>l.value),((e,o)=>{e&&"Notice"==e.componentName&&(f(),y())}))}));const g=e.getCurrentInstance(),v=e.ref(0),y=()=>{e.nextTick$1((()=>{e.index.createSelectorQuery().in(g).select(".diy-notice").boundingClientRect((e=>{v.value=e.height})).exec()}))},b=e=>{if("decorate"==u.mode)return!1;"popup"==l.value.showType?(a.value=!0,i.value=e.text):u.toRedirect(e.link)};return(r,t)=>e.e({a:e.s(e.unref(d)),b:"img"==e.unref(l).noticeType},"img"==e.unref(l).noticeType?e.e({c:"system"==e.unref(l).imgType},"system"==e.unref(l).imgType?e.e({d:"style_1"==e.unref(l).systemUrl},"style_1"==e.unref(l).systemUrl?{e:e.unref(o.img)(`static/resource/images/diy/notice/${e.unref(l).systemUrl}.png`)}:"style_2"==e.unref(l).systemUrl?{g:e.unref(o.img)(`static/resource/images/diy/notice/${e.unref(l).systemUrl}.png`)}:{},{f:"style_2"==e.unref(l).systemUrl}):"diy"==e.unref(l).imgType?{i:e.unref(o.img)(e.unref(l).imageUrl||"")}:{},{h:"diy"==e.unref(l).imgType}):{},{j:"text"==e.unref(l).noticeType&&e.unref(l).noticeTitle},"text"==e.unref(l).noticeType&&e.unref(l).noticeTitle?{k:e.t(e.unref(l).noticeTitle)}:{},{l:"horizontal"==e.unref(l).scrollWay},"horizontal"==e.unref(l).scrollWay?e.e({m:e.f(e.unref(l).list,((o,r,t)=>({a:e.t(o.text),b:r?1:"",c:r,d:e.o((e=>b(o)))}))),n:e.unref(l).textColor,o:2*e.unref(l).fontSize+"rpx",p:e.unref(l).fontWeight,q:p.value<c.value-30},p.value<c.value-30?{r:e.f(e.unref(l).list,((o,r,t)=>({a:e.t(o.text),b:r?1:"",c:r,d:e.o((e=>b(o)))}))),s:e.unref(l).textColor,t:2*e.unref(l).fontSize+"rpx",v:e.unref(l).fontWeight}:{},{w:e.s(m.value)}):{},{x:"upDown"==e.unref(l).scrollWay},"upDown"==e.unref(l).scrollWay?{y:e.f(e.unref(l).list,((o,r,t)=>({a:e.t(o.text),b:e.o((e=>b(o))),c:r}))),z:e.unref(l).textColor,A:2*e.unref(l).fontSize+"rpx",B:e.unref(l).fontWeight,C:e.o((()=>{})),D:e.unref(l).fontWeight}:{},{E:"horizontal-body-"+e.unref(l).id,F:"upDown"==e.unref(l).scrollWay?1:"",G:e.f(i.value.split("\n"),((o,r,t)=>({a:e.t(o)}))),H:e.o((e=>a.value=!1)),I:e.o((e=>a.value=!1)),J:e.p({show:a.value,mode:"center",round:"var(--rounded-big)",safeAreaInsetBottom:!1}),K:e.o((()=>{})),L:e.s(e.unref(s))})}}),n=e._export_sfc(t,[["__scopeId","data-v-47eb1eed"]]);tt.createComponent(n);

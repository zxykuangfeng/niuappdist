"use strict";const e=require("../../../../common/vendor.js"),o=require("../../../stores/diy.js"),r=require("../../../../utils/common.js");if(require("../../../../hooks/useLogin.js"),require("../../../../utils/request.js"),require("../../../../stores/member.js"),require("../../../api/member.js"),require("../../../api/auth.js"),require("../../../../stores/config.js"),require("../../../../stores/system.js"),require("../../../api/system.js"),require("../../../../locale/index.js"),require("../../../../locale/i18n.js"),require("../../../../locale/language.js"),require("../../../../utils/pages.js"),!Array){e.resolveComponent("u-parse")()}Math;const t=e.defineComponent({__name:"index",props:["component","index"],setup(t){const n=t,u=o.useDiyStore(),a=e.computed((()=>"decorate"==u.mode?u.value[n.index]:n.component)),d=e.computed((()=>{var e="";return e+="position:relative;",a.value.componentStartBgColor&&(a.value.componentStartBgColor&&a.value.componentEndBgColor?e+=`background:linear-gradient(${a.value.componentGradientAngle},${a.value.componentStartBgColor},${a.value.componentEndBgColor});`:e+="background-color:"+a.value.componentStartBgColor+";"),a.value.componentBgUrl&&(e+=`background-image:url('${r.img(a.value.componentBgUrl)}');`,e+="background-size: cover;background-repeat: no-repeat;"),a.value.topRounded&&(e+="border-top-left-radius:"+2*a.value.topRounded+"rpx;"),a.value.topRounded&&(e+="border-top-right-radius:"+2*a.value.topRounded+"rpx;"),a.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*a.value.bottomRounded+"rpx;"),a.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*a.value.bottomRounded+"rpx;"),e})),l=e.computed((()=>{var e="";return a.value.componentBgUrl&&(e+="position:absolute;top:0;width:100%;",e+=`background: rgba(0,0,0,${a.value.componentBgAlpha/10});`,e+=`height:${p.value}px;`,a.value.topRounded&&(e+="border-top-left-radius:"+2*a.value.topRounded+"rpx;"),a.value.topRounded&&(e+="border-top-right-radius:"+2*a.value.topRounded+"rpx;"),a.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*a.value.bottomRounded+"rpx;"),a.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*a.value.bottomRounded+"rpx;")),e}));e.onMounted((()=>{s(),"decorate"==u.mode&&e.watch((()=>a.value),((e,o)=>{e&&"RichText"==e.componentName&&s()}))}));const i=e.getCurrentInstance(),p=e.ref(0),s=()=>{e.nextTick$1((()=>{e.index.createSelectorQuery().in(i).select(".diy-rich-text").boundingClientRect((e=>{p.value=e.height})).exec()}))};return(o,r)=>e.e({a:e.s(e.unref(l)),b:e.unref(a).html&&"<p><br></p>"!=e.unref(a).html},e.unref(a).html&&"<p><br></p>"!=e.unref(a).html?{c:e.p({content:e.unref(a).html,tagStyle:{img:"vertical-align: top;"}})}:{},{d:e.s(e.unref(d))})}});tt.createComponent(t);

"use strict";const e=require("../../../../common/vendor.js"),t=require("../../../stores/diy.js"),r=require("../../../../utils/common.js");if(require("../../../../hooks/useLogin.js"),require("../../../../utils/request.js"),require("../../../../stores/member.js"),require("../../../api/member.js"),require("../../../api/auth.js"),require("../../../../stores/config.js"),require("../../../../stores/system.js"),require("../../../api/system.js"),require("../../../../locale/index.js"),require("../../../../locale/i18n.js"),require("../../../../locale/language.js"),require("../../../../utils/pages.js"),!Array){e.resolveComponent("u-icon")()}Math;const o=e.defineComponent({__name:"index",props:["component","index"],setup(o){const l=o,u=t.useDiyStore(),n=e.computed((()=>"decorate"==u.mode?u.value[l.index]:l.component)),i=e.computed((()=>{var e="";return e+="position:relative;",n.value.componentStartBgColor&&(n.value.componentStartBgColor&&n.value.componentEndBgColor?e+=`background:linear-gradient(${n.value.componentGradientAngle},${n.value.componentStartBgColor},${n.value.componentEndBgColor});`:e+="background-color:"+n.value.componentStartBgColor+";"),n.value.componentBgUrl&&(e+=`background-image:url('${r.img(n.value.componentBgUrl)}');`,e+="background-size: cover;background-repeat: no-repeat;"),n.value.topRounded&&(e+="border-top-left-radius:"+2*n.value.topRounded+"rpx;"),n.value.topRounded&&(e+="border-top-right-radius:"+2*n.value.topRounded+"rpx;"),n.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*n.value.bottomRounded+"rpx;"),n.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*n.value.bottomRounded+"rpx;"),e})),a=e.computed((()=>{var e="";return n.value.componentBgUrl&&(e+="position:absolute;top:0;width:100%;",e+=`background: rgba(0,0,0,${n.value.componentBgAlpha/10});`,e+=`height:${m.value}px;`,n.value.topRounded&&(e+="border-top-left-radius:"+2*n.value.topRounded+"rpx;"),n.value.topRounded&&(e+="border-top-right-radius:"+2*n.value.topRounded+"rpx;"),n.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*n.value.bottomRounded+"rpx;"),n.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*n.value.bottomRounded+"rpx;")),e})),s=e.ref(""),d=e.ref(""),f=e=>{var t="";return e.listFrame.startColor&&e.listFrame.endColor?t+=`background:linear-gradient(${e.listFrame.startColor},${e.listFrame.endColor});`:t+=`background:${e.listFrame.startColor||e.listFrame.endColor};`,n.value.topElementRounded&&(t+="border-top-left-radius:"+2*n.value.topElementRounded+"rpx;"),n.value.topElementRounded&&(t+="border-top-right-radius:"+2*n.value.topElementRounded+"rpx;"),n.value.bottomElementRounded&&(t+="border-bottom-left-radius:"+2*n.value.bottomElementRounded+"rpx;"),n.value.bottomElementRounded&&(t+="border-bottom-right-radius:"+2*n.value.bottomElementRounded+"rpx;"),t+="overflow: hidden;"},c=e=>{var t="";return t+=`background:linear-gradient(90deg,${e.startColor},${e.endColor});`};e.onMounted((()=>{g(),"decorate"==u.mode?e.watch((()=>n.value),((e,t)=>{e&&"ActiveCube"==e.componentName&&g()})):e.watch((()=>n.value),((e,t)=>{g()}))}));const b=e.getCurrentInstance(),m=e.ref(0),g=()=>{e.nextTick$1((()=>{e.index.createSelectorQuery().in(b).select(".diy-active-cube").boundingClientRect((e=>{m.value=e.height})).exec(),n.value.blockStyle.value,n.value.blockStyle.value}))};return(t,o)=>e.e({a:e.s(e.unref(a)),b:"style-1"==e.unref(n).titleStyle.value},"style-1"==e.unref(n).titleStyle.value?e.e({c:e.t(e.unref(n).text),d:e.unref(n).titleColor,e:e.o((t=>e.unref(u).toRedirect(e.unref(n).textLink))),f:e.unref(n).subTitle.text},e.unref(n).subTitle.text?{g:e.t(e.unref(n).subTitle.text),h:e.o((t=>e.unref(u).toRedirect(e.unref(n).subTitle.link))),i:e.unref(n).subTitle.textColor,j:"linear-gradient(90deg, "+e.unref(n).subTitle.startColor+", "+e.unref(n).subTitle.endColor+")"}:{}):{},{k:"style-2"==e.unref(n).titleStyle.value},"style-2"==e.unref(n).titleStyle.value?e.e({l:e.t(e.unref(n).text),m:e.unref(n).titleColor,n:e.o((t=>e.unref(u).toRedirect(e.unref(n).textLink))),o:e.unref(n).subTitle.text},e.unref(n).subTitle.text?{p:e.t(e.unref(n).subTitle.text),q:e.o((t=>e.unref(u).toRedirect(e.unref(n).subTitle.link))),r:e.unref(n).subTitle.textColor,s:"linear-gradient(90deg, "+e.unref(n).subTitle.startColor+", "+e.unref(n).subTitle.endColor+")"}:{}):{},{t:"style-3"==e.unref(n).titleStyle.value},"style-3"==e.unref(n).titleStyle.value?e.e({v:e.t(e.unref(n).text),w:e.o((t=>e.unref(u).toRedirect(e.unref(n).textLink))),x:e.unref(n).titleColor,y:e.unref(n).subTitle.text},e.unref(n).subTitle.text?{z:e.t(e.unref(n).subTitle.text),A:e.unref(n).subTitle.textColor,B:"url("+e.unref(r.img)("static/resource/images/diy/active_cube/bg_2.png")+")"}:{},{C:e.o((t=>e.unref(u).toRedirect(e.unref(n).subTitle.link)))}):{},{D:"style-4"==e.unref(n).titleStyle.value},"style-4"==e.unref(n).titleStyle.value?e.e({E:e.t(e.unref(n).text),F:e.o((t=>e.unref(u).toRedirect(e.unref(n).textLink))),G:e.unref(n).titleColor,H:e.unref(n).subTitle.text},e.unref(n).subTitle.text?{I:e.t(e.unref(n).subTitle.text),J:e.o((t=>e.unref(u).toRedirect(e.unref(n).subTitle.link))),K:e.unref(n).subTitle.textColor,L:"linear-gradient(90deg, "+e.unref(n).subTitle.startColor+", "+e.unref(n).subTitle.endColor+")"}:{}):{},{M:"style-5"==e.unref(n).titleStyle.value},"style-5"==e.unref(n).titleStyle.value?e.e({N:e.unref(n).textImg},e.unref(n).textImg?{O:e.unref(r.img)(e.unref(n).textImg),P:e.o((t=>e.unref(u).toRedirect(e.unref(n).textLink)))}:{},{Q:e.unref(n).subTitle.text&&e.unref(n).textImg},e.unref(n).subTitle.text&&e.unref(n).textImg?{R:e.unref(n).subTitle.textColor}:{},{S:e.unref(n).subTitle.text},e.unref(n).subTitle.text?{T:e.t(e.unref(n).subTitle.text),U:e.o((t=>e.unref(u).toRedirect(e.unref(n).subTitle.link))),V:e.unref(n).subTitle.textColor,W:"linear-gradient(90deg, "+e.unref(n).subTitle.startColor+", "+e.unref(n).subTitle.endColor+")"}:{}):{},{X:e.f(e.unref(n).list,((t,o,l)=>e.e("style-1"==e.unref(n).blockStyle.value?e.e({a:e.t(t.title.text),b:e.unref(n).blockStyle.fontWeight,c:e.t(t.subTitle.text),d:t.moreTitle.text},t.moreTitle.text?{e:e.t(t.moreTitle.text),f:e.unref(r.img)("static/resource/images/diy/active_cube/block_style1_1.png"),g:e.s(c(t.moreTitle))}:{},{h:t.imageUrl},t.imageUrl?{i:e.unref(r.img)(t.imageUrl)}:{j:"c221fc18-0-"+l,k:e.p({name:"photo",color:"#999",size:"50"})},{l:e.o((r=>e.unref(u).toRedirect(t.link))),m:e.s(f(t))}):{},"style-2"==e.unref(n).blockStyle.value?e.e({n:e.t(t.title.text),o:e.unref(n).blockStyle.fontWeight,p:e.t(t.subTitle.text),q:t.moreTitle.text},t.moreTitle.text?{r:e.t(t.moreTitle.text),s:"italics"==e.unref(n).blockStyle.btnText?1:"",t:e.s(c(t.moreTitle))}:{},{v:t.imageUrl},t.imageUrl?{w:e.unref(r.img)(t.imageUrl)}:{x:"c221fc18-1-"+l,y:e.p({name:"photo",color:"#999",size:"50"})},{z:e.o((r=>e.unref(u).toRedirect(t.link))),A:e.s(f(t))}):{},{B:t.id}))),Y:"style-1"==e.unref(n).blockStyle.value,Z:"style-2"==e.unref(n).blockStyle.value,aa:"style-3"==e.unref(n).blockStyle.value},"style-3"==e.unref(n).blockStyle.value?{ab:e.f(e.unref(n).list,((t,o,l)=>e.e({a:t.imageUrl},t.imageUrl?{b:e.unref(r.img)(t.imageUrl)}:{c:"c221fc18-2-"+l,d:e.p({name:"photo",color:"#999",size:"50"})},{e:e.t(t.title.text),f:t.title.textColor,g:"item"+o+e.unref(n).id,h:e.o((r=>e.unref(u).toRedirect(t.link))),i:e.s(s.value+f(t)),j:o+1===e.unref(n).list.length?1:"",k:t.id}))),ac:e.unref(n).blockStyle.fontWeight,ad:"warpStyle3-"+e.unref(n).id}:{},{ae:"style-4"==e.unref(n).blockStyle.value},"style-4"==e.unref(n).blockStyle.value?{af:e.f(e.unref(n).list,((t,o,l)=>e.e({a:t.imageUrl},t.imageUrl?{b:e.unref(r.img)(t.imageUrl)}:{c:"c221fc18-3-"+l,d:e.p({name:"photo",color:"#999",size:"50"})},{e:e.t(t.subTitle.text),f:t.subTitle.textColor,g:"linear-gradient(to right,"+t.subTitle.startColor+","+t.subTitle.endColor+")",h:e.t(t.title.text),i:"item"+o+e.unref(n).id,j:e.o((r=>e.unref(u).toRedirect(t.link))),k:o+1===e.unref(n).list.length?1:"",l:e.s(f(t)+d.value),m:t.id}))),ag:"bold"==e.unref(n).blockStyle.fontWeight?e.unref(n).blockStyle.fontWeight:"500",ah:"warpStyle4-"+e.unref(n).id}:{},{ai:e.s(e.unref(i))})}}),l=e._export_sfc(o,[["__scopeId","data-v-c221fc18"]]);tt.createComponent(l);

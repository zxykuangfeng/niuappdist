"use strict";const e=require("../../../../common/vendor.js"),r=require("../../../stores/diy.js"),o=require("../../../../utils/common.js");require("../../../../hooks/useLogin.js"),require("../../../../utils/request.js"),require("../../../../stores/member.js"),require("../../../api/member.js"),require("../../../api/auth.js"),require("../../../../stores/config.js"),require("../../../../stores/system.js"),require("../../../api/system.js"),require("../../../../locale/index.js"),require("../../../../locale/i18n.js"),require("../../../../locale/language.js"),require("../../../../utils/pages.js");const t=e.defineComponent({__name:"index",props:["component","index"],setup(t){const n=t;e.index.getSystemInfoSync();const u=r.useDiyStore(),i=e.computed((()=>"decorate"==u.mode?u.value[n.index]:n.component)),a=e.computed((()=>{var e="";return e+="position:relative;",i.value.componentStartBgColor&&(i.value.componentStartBgColor&&i.value.componentEndBgColor?e+=`background:linear-gradient(${i.value.componentGradientAngle},${i.value.componentStartBgColor},${i.value.componentEndBgColor});`:e+="background-color:"+i.value.componentStartBgColor+";"),i.value.componentBgUrl&&(e+=`background-image:url('${o.img(i.value.componentBgUrl)}');`,e+="background-size: cover;background-repeat: no-repeat;"),e})),s=e.computed((()=>{var e="";return i.value.topRounded&&(e+="border-top-left-radius:"+2*i.value.topRounded+"rpx;"),i.value.topRounded&&(e+="border-top-right-radius:"+2*i.value.topRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*i.value.bottomRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*i.value.bottomRounded+"rpx;"),e})),l=e.computed((()=>2*i.value.imageHeight+"rpx")),d=e.ref(0),m=e=>{d.value=e.detail.current};e.onMounted((()=>{c(),"decorate"==u.mode&&e.watch((()=>i.value),((e,r)=>{e&&"ImageAds"==e.componentName&&c()}))}));const c=()=>{"decorate"==u.mode?i.value.list.forEach((e=>{""==e.imageUrl&&(e.imgWidth=690,e.imgHeight=330)})):e.index.removeStorageSync("imageAdsSameScreen")};return(r,t)=>e.e({a:1==e.unref(i).list.length},1==e.unref(i).list.length?e.e({b:e.unref(i).list[0].imageUrl},e.unref(i).list[0].imageUrl?{c:e.unref(o.img)(e.unref(i).list[0].imageUrl),d:e.unref(l)}:{e:e.unref(o.img)("static/resource/images/diy/figure.png"),f:e.unref(l)},{g:e.o((r=>e.unref(u).toRedirect(e.unref(i).list[0].link))),h:e.s(e.unref(s))}):{i:e.f(e.unref(i).list,((r,t,n)=>e.e({a:r.imageUrl},r.imageUrl?{b:e.unref(o.img)(r.imageUrl)}:{c:e.unref(o.img)("static/resource/images/diy/figure.png")},{d:e.o((o=>e.unref(u).toRedirect(r.link))),e:r.id}))),j:e.unref(l),k:e.s(e.unref(s)),l:e.unref(l),m:e.o(m)},{n:e.s((i.value.isSameScreen&&0==n.index&&e.index.setStorageSync("imageAdsSameScreen",!0),"")),o:e.s(e.unref(a))})}});tt.createComponent(t);

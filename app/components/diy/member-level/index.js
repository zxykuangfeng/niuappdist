"use strict";const e=require("../../../../common/vendor.js"),r=require("../../../../utils/common.js"),l=require("../../../../stores/member.js");require("../../../../locale/i18n.js"),require("../../../../stores/system.js");const t=require("../../../stores/diy.js");require("../../../../utils/pages.js"),require("../../../../stores/config.js"),require("../../../api/auth.js"),require("../../../../utils/request.js"),require("../../../../locale/index.js"),require("../../../api/member.js"),require("../../../../locale/language.js"),require("../../../api/system.js"),require("../../../../hooks/useLogin.js");const u=e.defineComponent({__name:"index",props:["component","index"],setup(u){const a=u,m=t.useDiyStore(),n=l.useMemberStore(),s=e.computed((()=>"decorate"==m.mode?m.value[a.index]:a.component)),o=e.computed((()=>{var e="";return s.value.topRounded&&(e+="border-top-left-radius:"+2*s.value.topRounded+"rpx;"),s.value.topRounded&&(e+="border-top-right-radius:"+2*s.value.topRounded+"rpx;"),s.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*s.value.bottomRounded+"rpx;"),s.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*s.value.bottomRounded+"rpx;"),e})),v=e.ref(0),i=e.ref(0),g=e.ref(-1),f=e.ref([]);e.ref(e.index.getStorageSync("wap_member_info"));const p=e.computed((()=>"decorate"==m.mode?(v.value=0,f.value=[{title:"商品包邮"}],i.value=1,{member_level_name:"会员等级",growth:5}):n.info||{})),d=e.computed((()=>"decorate"==m.mode?[{}]:(b(n.levelList),n.levelList))),b=e=>{if(!e||!e.length)return!1;let r=!1;p.value&&p.value.member_level&&e&&e.length&&e.forEach(((e,l)=>{e.level_id==p.value.member_level&&(i.value=l+1,e.level_benefits&&Object.values(e.level_benefits).forEach((e=>{e.content&&f.value.push(e.content)}))),e.growth>p.value.growth&&e.level_id!=p.value.member_level&&!r&&(g.value=l,r=!0)})),p.value.member_level?(-1==g.value&&(g.value=e.length-1),e[g.value]&&e[g.value].growth&&(v.value=e[g.value].growth-p.value.growth)):(p.value.member_level_name=e[0].level_name,v.value=e[0].growth-(p.value.growth||0),g.value=0,i.value=1)};let c=()=>{let e=100;return d.value[g.value]&&d.value[g.value].growth&&(e=p.value.growth?p.value.growth/d.value[g.value].growth*100:0),e};const _=e=>{if("decorate"==m.mode)return!1;r.redirect({url:e})};return(l,t)=>e.e({a:e.unref(p)&&e.unref(d)&&e.unref(d).length},e.unref(p)&&e.unref(d)&&e.unref(d).length?e.e({b:"style-1"==e.unref(s).style},"style-1"==e.unref(s).style?{c:e.unref(r.img)("static/resource/images/diy/member/VIP_02.png"),d:e.t(e.unref(p).member_level_name),e:e.t(e.unref(p).member_level?v.value>0?"做任务":"点击查看":"去解锁"),f:e.o((e=>_("/app/pages/member/level")))}:{},{g:"style-2"==e.unref(s).style},"style-2"==e.unref(s).style?e.e({h:e.unref(r.img)("static/resource/images/diy/member/VIP_01.png"),i:e.t(e.unref(p).member_level_name),j:f.value&&f.value.length},f.value&&f.value.length?{k:e.t(e.unref(p).member_level_name),l:e.t(f.value[0].title)}:{},{m:e.t(e.unref(p).member_level?v.value>0?"做任务":"点击查看":"去解锁"),n:e.o((e=>_("/app/pages/member/level")))}):{},{o:"style-3"==e.unref(s).style},"style-3"==e.unref(s).style?e.e({p:e.t(i.value),q:"url("+e.unref(r.img)("static/resource/images/diy/member/VIP.png")+")",r:e.t(e.unref(p).member_level_name),s:e.o((e=>_("/app/pages/member/level"))),t:e.unref(c)(),v:v.value>0},v.value>0?{w:e.t(v.value),x:e.t(e.unref(d)[g.value].level_name)}:{},{y:e.t(e.unref(p).member_level?v.value>0?"做任务":"点击查看":"去解锁"),z:e.o((e=>_("/app/pages/member/level")))}):{},{A:"style-4"==e.unref(s).style},"style-4"==e.unref(s).style?e.e({B:e.unref(r.img)("static/resource/images/diy/member/style4_vip.png"),C:e.t(e.unref(p).member_level_name),D:f.value&&f.value.length},f.value&&f.value.length?{E:e.t(e.unref(p).member_level_name),F:e.t(f.value[0].title)}:{},{G:e.t(e.unref(p).member_level?v.value>0?"做任务":"点击查看":"去解锁"),H:e.unref(r.img)("static/resource/images/diy/member/style4_arrow.png"),I:e.o((e=>_("/app/pages/member/level"))),J:"url("+e.unref(r.img)("static/resource/images/diy/member/style4_bg.jpg")+")"}):{},{K:"style-5"==e.unref(s).style},"style-5"==e.unref(s).style?e.e({L:e.unref(r.img)("static/resource/images/diy/member/style5_vip.png"),M:e.t(e.unref(p).member_level_name),N:e.t(e.unref(p).member_level?v.value>0?"做任务":"点击查看":"去解锁"),O:e.unref(r.img)("static/resource/images/diy/member/style5_arrow_01.png"),P:e.o((e=>_("/app/pages/member/level"))),Q:v.value>0},v.value>0?{R:e.t(v.value),S:e.t(e.unref(d)[g.value].level_name)}:{},{T:e.o((e=>_("/app/pages/member/level"))),U:e.unref(c)(),V:"url("+e.unref(r.img)("static/resource/images/diy/member/style5_bg.jpg")+")"}):{},{W:e.s(e.unref(o))}):{})}}),a=e._export_sfc(u,[["__scopeId","data-v-fb31e6f0"]]);tt.createComponent(a);

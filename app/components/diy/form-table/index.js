"use strict";const e=require("../../../../common/vendor.js"),o=require("../../../stores/diy.js"),a=require("../../../../utils/common.js");if(require("../../../../hooks/useLogin.js"),require("../../../../utils/request.js"),require("../../../../stores/member.js"),require("../../../api/member.js"),require("../../../api/auth.js"),require("../../../../stores/config.js"),require("../../../../stores/system.js"),require("../../../api/system.js"),require("../../../../locale/index.js"),require("../../../../locale/i18n.js"),require("../../../../locale/language.js"),require("../../../../utils/pages.js"),!Array){(e.resolveComponent("u-radio")+e.resolveComponent("u-radio-group")+e.resolveComponent("u-popup")+e.resolveComponent("u-action-sheet")+e.resolveComponent("area-select")+e.resolveComponent("u-calendar")+e.resolveComponent("u-datetime-picker"))()}Math||((()=>"../../../../node-modules/uview-plus/components/u-radio/u-radio.js")+(()=>"../../../../node-modules/uview-plus/components/u-radio-group/u-radio-group.js")+(()=>"../../../../node-modules/uview-plus/components/u-popup/u-popup.js")+(()=>"../../../../node-modules/uview-plus/components/u-action-sheet/u-action-sheet.js")+(()=>"../../../../components/area-select/area-select.js")+(()=>"../../../../node-modules/uview-plus/components/u-calendar/u-calendar.js")+(()=>"../../../../node-modules/uview-plus/components/u-datetime-picker/u-datetime-picker.js"))();const t=e.defineComponent({__name:"index",props:["component","index","global"],setup(t,{expose:r}){const u=t,l=o.useDiyStore(),n=e.ref({id:0,name:"",mobile:"",province_id:0,city_id:0,district_id:0,lat:"",lng:"",address:"",address_name:"",full_address:"",is_default:0,area:""}),i=e.ref(Array(10).fill(!1)),d=e.computed((()=>"decorate"==l.mode?l.value[u.index]:u.component));e.computed((()=>"decorate"===l.mode));const s=e.ref(null),c=e.ref(!1),m=e.computed((()=>[{name:"男",value:1},{name:"女",value:2}])),v=e=>{s.value&&(s.value.value=e.value),c.value=!1};let p=new Date;p.setFullYear(p.getFullYear()+1);const f=e.ref(p.getTime());let g=new Date;const b=e.ref(g.getTime()),j=e.ref(!1),Y=e.ref(!1);e.computed((()=>s.value&&s.value.value?h(s.value.value,s.value.dateFormat):d.value.placeholder||"请选择日期"));const C=e=>{s.value&&(s.value.value=e[0]),j.value=!1},$=e=>{s.value&&(s.value.value=e.value),Y.value=!1},_=e=>(a.timeStampTurnTime(Date.parse(e.date)/1e3,"year_month_day"),e),h=(e="",o)=>{console.log(e,o);let t="YYYY-MM-DD HH:mm"==o?e:a.timeTurnTimeStamp(e),r=t>9999999999?new Date(t):new Date(1e3*t),u=r.getFullYear(),l=String(r.getMonth()+1).padStart(2,"0"),n=String(r.getDate()).padStart(2,"0");console.log(u);const i=String(r.getHours()).padStart(2,"0"),d=String(r.getMinutes()).padStart(2,"0");let s="";return"YYYY年M月D日"==o?s=`${u}年${l}月${n}日`:"YYYY-MM-DD"==o?s=`${u}-${l}-${n}`:"YYYY/MM/DD"==o?s=`${u}/${l}/${n}`:"YYYY-MM-DD HH:mm"==o&&(s=`${u}-${l}-${n} ${i}:${d}`),s},y=e.ref(),D=e.ref(!1),q=e=>{!D.value||n.value.province_id!=e.province.id&&n.value.city_id==e.city.id&&n.value.district_id==e.district.id||(n.value.lat="",n.value.lng=""),n.value.province_id=e.province.id||0,n.value.city_id=e.city.id||0,n.value.district_id=e.district.id||0,n.value.area=`${e.province.name||""}${e.city.name||""}${e.district.name||""}`,s.value.value=n.value.area,D.value=!1},S=e.computed((()=>{var e="";return e+="position:relative;",d.value.componentStartBgColor&&(d.value.componentStartBgColor&&d.value.componentEndBgColor?e+=`background:linear-gradient(${d.value.componentGradientAngle},${d.value.componentStartBgColor},${d.value.componentEndBgColor});`:e+="background-color:"+d.value.componentStartBgColor+";"),d.value.componentBgUrl&&(e+=`background-image:url('${a.img(d.value.componentBgUrl)}');`,e+="background-size: cover;background-repeat: no-repeat;"),d.value.topRounded&&(e+="border-top-left-radius:"+2*d.value.topRounded+"rpx;"),d.value.topRounded&&(e+="border-top-right-radius:"+2*d.value.topRounded+"rpx;"),d.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*d.value.bottomRounded+"rpx;"),d.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*d.value.bottomRounded+"rpx;"),e}));e.onMounted((()=>{x(),"decorate"==l.mode&&e.watch((()=>d.value),((e,o)=>{e&&e.componentName})),console.log(d.value)}));const x=()=>{};return r({verify:()=>({code:!0,message:""}),reset:()=>{}}),(o,a)=>({a:e.t(e.unref(d).field.name),b:e.unref(d).textColor,c:2*e.unref(d).fontSize+"rpx",d:e.unref(d).fontWeight,e:e.t(e.unref(d).field.required?"*":""),f:e.f(e.unref(d).columnList,((o,a,t)=>({a:e.f(o.options,((o,r,u)=>({a:"2d437f54-2-"+t+"-"+u+",2d437f54-1-"+t,b:e.p({activeColor:"var(--primary-color)",labelSize:2*e.unref(d).fontSize+"rpx",labelColor:e.unref(d).textColor,label:o.label,name:o.id}),c:r,d:e.o((e=>((e,o)=>{d.value.columnList[e].value=o.id,i.value[e]=!1})(a,o)))}))),b:e.o((e=>(e=>{const o=d.value.columnList[e];o&&o.value&&(i.value[e]=!1)})(a))),c:"2d437f54-1-"+t+",2d437f54-0-"+t,d:e.o((e=>o.value=e)),e:e.p({placement:"column",iconPlacement:"right",modelValue:o.value}),f:"popup-"+a,g:e.o((e=>i.value[a]=!1)),h:"2d437f54-0-"+t,i:e.p({show:i.value[a],mode:"bottom"})}))),g:e.o((e=>c.value=!1)),h:e.o(v),i:e.p({actions:e.unref(m),show:c.value,closeOnClickOverlay:!0,safeAreaInsetBottom:!0}),j:e.sr(y,"2d437f54-4",{k:"areaRef"}),k:e.o(q),l:e.p({"area-id":n.value.district_id}),m:e.sr("calendar","2d437f54-5"),n:e.o(C),o:e.o((e=>j.value=!1)),p:e.p({show:j.value,mode:"single",closeOnClickOverlay:"true",formatter:_,confirmDisabledText:"禁止选择",color:"var(--primary-color)",maxDate:f.value}),q:e.o((e=>Y.value=!1)),r:e.o($),s:e.o((e=>Y.value=!1)),t:e.p({show:Y.value,mode:"datetime",closeOnClickOverlay:"true",minDate:b.value}),v:e.s(e.unref(S))})}}),r=e._export_sfc(t,[["__scopeId","data-v-2d437f54"]]);tt.createComponent(r);

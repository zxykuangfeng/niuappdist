"use strict";const e=require("../../../../common/vendor.js"),o=require("../../../stores/diy.js"),t=require("../../../../utils/common.js");require("../../../../hooks/useLogin.js"),require("../../../../utils/request.js"),require("../../../../stores/member.js"),require("../../../api/member.js"),require("../../../api/auth.js"),require("../../../../stores/config.js"),require("../../../../stores/system.js"),require("../../../api/system.js"),require("../../../../locale/index.js"),require("../../../../locale/i18n.js"),require("../../../../locale/language.js"),require("../../../../utils/pages.js");const r=e.defineComponent({__name:"index",props:["component","index"],setup(r){const u=r,n=o.useDiyStore(),l=e.computed((()=>"decorate"==n.mode?n.value[u.index]:u.component)),i=e.computed((()=>({fontSize:2*l.value.fontSize+"rpx",color:l.value.textColor,fontWeight:"normal"===l.value.fontWeight?500:l.value.fontWeight,textAlign:l.value.textAlign}))),a=e.computed((()=>({fontSize:2*l.value.fontSize+"rpx",color:l.value.textColor,fontWeight:"normal"===l.value.fontWeight?500:l.value.fontWeight}))),d=e.computed((()=>{var e="";return e+="position:relative;",l.value.componentStartBgColor&&(l.value.componentStartBgColor&&l.value.componentEndBgColor?e+=`background:linear-gradient(${l.value.componentGradientAngle},${l.value.componentStartBgColor},${l.value.componentEndBgColor});`:e+="background-color:"+l.value.componentStartBgColor+";"),l.value.componentBgUrl&&(e+=`background-image:url('${t.img(l.value.componentBgUrl)}');`,e+="background-size: cover;background-repeat: no-repeat;"),l.value.topRounded&&(e+="border-top-left-radius:"+2*l.value.topRounded+"rpx;"),l.value.topRounded&&(e+="border-top-right-radius:"+2*l.value.topRounded+"rpx;"),l.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*l.value.bottomRounded+"rpx;"),l.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*l.value.bottomRounded+"rpx;"),e})),s=e.computed((()=>{var e="";return l.value.componentBgUrl&&(e+="position:absolute;top:0;width:100%;",e+=`background: rgba(0,0,0,${l.value.componentBgAlpha/10});`,e+=`height:${p.value}px;`,l.value.topRounded&&(e+="border-top-left-radius:"+2*l.value.topRounded+"rpx;"),l.value.topRounded&&(e+="border-top-right-radius:"+2*l.value.topRounded+"rpx;"),l.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*l.value.bottomRounded+"rpx;"),l.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*l.value.bottomRounded+"rpx;")),e}));e.onMounted((()=>{m(),"decorate"==n.mode&&e.watch((()=>l.value),((e,o)=>{e&&"Text"==e.componentName&&m()}))}));const c=e.getCurrentInstance(),p=e.ref(0),m=()=>{e.nextTick$1((()=>{e.index.createSelectorQuery().in(c).select(".diy-text").boundingClientRect((e=>{p.value=e.height})).exec()}))};return(o,t)=>e.e({a:e.s(e.unref(s)),b:"style-1"==e.unref(l).style},"style-1"==e.unref(l).style?{c:e.t(e.unref(l).text),d:e.s(e.unref(i)),e:e.o((o=>e.unref(n).toRedirect(e.unref(l).link)))}:{},{f:"style-2"==e.unref(l).style},"style-2"==e.unref(l).style?e.e({g:e.t(e.unref(l).text),h:e.s(e.unref(a)),i:e.o((o=>e.unref(n).toRedirect(e.unref(l).link))),j:e.unref(l).subTitle.text},e.unref(l).subTitle.text?{k:e.unref(l).subTitle.color}:{},{l:e.t(e.unref(l).subTitle.text),m:e.unref(l).subTitle.color,n:2*e.unref(l).subTitle.fontSize+"rpx",o:e.unref(l).more.isShow},e.unref(l).more.isShow?{p:e.t(e.unref(l).more.text),q:e.unref(l).more.color,r:e.o((o=>e.unref(n).toRedirect(e.unref(l).more.link))),s:e.unref(l).more.color}:{}):{},{t:e.s(e.unref(d))})}});tt.createComponent(r);

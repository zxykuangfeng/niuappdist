"use strict";const e=require("../../../common/vendor.js");require("../../../locale/i18n.js"),require("../../../stores/system.js");const t=require("../../../utils/common.js"),r=require("../../api/member.js"),i=require("../../../utils/topTabbar.js");if(require("../../../locale/language.js"),require("../../../utils/pages.js"),require("../../api/system.js"),require("../../../utils/request.js"),require("../../../stores/member.js"),require("../../api/auth.js"),require("../../../stores/config.js"),require("../../stores/diy.js"),require("../../../hooks/useLogin.js"),require("../../../locale/index.js"),!Array){e.resolveComponent("loading-page")()}Math;const o=e.defineComponent({__name:"point",setup(o){i.topTabar().setTopTabbarParam({title:"我的积分"});let a={};a=e.index.getMenuButtonBoundingClientRect();const n=e.computed((()=>({backgroundImage:"url("+t.img("static/resource/images/member/point/point_bg.png")+") ",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"bottom"}))),s=e.computed((()=>Object.keys(a).length?t.pxToRpx(Number(a.height))+t.pxToRpx(a.top)+50+"rpx;":"50rpx")),u=e.ref({}),m=e.ref([]),p=e.ref(!0);e.onLoad((async()=>{let e=await r.getMemberAccountPointcount(),t=await r.getTaskPoint();u.value=e.data,m.value=t.data,p.value=!1}));const c=(e="",r={})=>{t.redirect({url:e,param:r})};return(r,i)=>e.e({a:!p.value},p.value?{}:e.e({b:e.t(u.value.point||0),c:e.unref(t.img)("static/resource/images/member/point/icon.png"),d:e.unref(s),e:e.o((e=>c("/app/pages/member/point_detail"))),f:e.s(e.unref(n)),g:"url("+e.unref(t.img)("static/resource/images/member/point/top_bg.png")+") ",h:e.t(u.value.point_get||0),i:e.t(u.value.use||0),j:e.t(u.value.point||0),k:e.unref(t.img)("static/resource/images/member/point/activity_icon_1.png"),l:e.o((e=>c("/app/pages/member/sign_in"))),m:"url("+e.unref(t.img)("static/resource/images/member/point/activity_1.png")+") ",n:e.unref(t.img)("static/resource/images/member/point/activity_icon_2.png"),o:e.o((e=>c("/addon/shop/pages/point/index"))),p:"url("+e.unref(t.img)("static/resource/images/member/point/activity_2.png")+") ",q:e.unref(t.img)("static/resource/images/member/point/icon.png"),r:e.o((e=>c("/addon/shop/pages/goods/list"))),s:"url("+e.unref(t.img)("static/resource/images/member/point/activity_3.png")+") ",t:m.value.length},m.value.length?{v:e.f(m.value,((r,i,o)=>e.e({a:e.unref(t.img)(r.icon||""),b:e.t(r.title),c:e.t(r.desc),d:r.button},r.button?{e:e.t(r.button.text),f:e.o((e=>c(r.button.wap_redirect)))}:{})))}:{}),{w:e.p({loading:p.value}),x:e.s(r.themeColor())})}}),a=e._export_sfc(o,[["__scopeId","data-v-33295894"]]);tt.createPage(a);

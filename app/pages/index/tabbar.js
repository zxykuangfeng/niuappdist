"use strict";const e=require("../../../common/vendor.js"),a=require("../../../utils/common.js"),r=require("../../../utils/pages.js"),t=require("../../../stores/config.js"),s=require("../../../stores/system.js"),i=require("../../../utils/interceptor.js"),o=require("../../../locale/i18n.js");require("../../stores/diy.js"),require("../../../hooks/useLogin.js"),require("../../../utils/request.js"),require("../../../stores/member.js"),require("../../api/member.js"),require("../../api/auth.js"),require("../../../locale/index.js"),require("../../api/system.js"),require("../../../utils/auth.js"),require("../../../hooks/useShare.js"),require("../../api/diy.js"),require("../../../locale/language.js");const n={"pages.index.index":"","pages.index.close":"站点已关闭","pages.index.nosite":"站点不存在","pages.index.develop":"开发环境配置","pages.index.diy":"","pages.index.diy_form":"","pages.index.diy_form_result":"","pages.index.diy_form_detail":"表单详情","pages.article.list":"资讯中心","pages.article.detail":"文章详情","pages.auth.index":"登录","pages.auth.agreement":"协议","pages.auth.bind":"绑定手机号","pages.auth.login":"登录","pages.auth.register":"注册","pages.auth.resetpwd":"找回密码","pages.member.account":"会员账户","pages.member.account_edit":"","pages.member.address":"收货地址","pages.member.address_edit":"编辑收货地址","pages.member.apply_cash_out":"申请提现","pages.member.balance":"我的余额","pages.member.point":"我的积分","pages.member.point_detail":"积分明细","pages.member.level":"会员等级","pages.member.sign_in":"我的签到","pages.member.cash_out":"提现记录","pages.member.cash_out_detail":"提现详情","pages.member.commission":"我的佣金","pages.member.detailed_account":"流水明细","pages.member.index":"","pages.member.personal":"个人资料","pages.member.contact":"客服","pages.pay.browser":"支付","pages.pay.result":"","pages.setting.index":"设置","pages.verify.index":"核销台","pages.verify.verify":"核销","pages.verify.detail":"核销详情","pages.verify.record":"核销记录","pages.friendspay.share":"找朋友帮忙付","pages.friendspay.money":"","pages.webview.index":"","zzhc.pages.barber.list":"取号","zzhc.pages.barber.detail":"发型师介绍","zzhc.pages.order.list":"订单列表","zzhc.pages.order.detail":"订单详情","zzhc.pages.member.index":"我的","zzhc.pages.store.list":"选择门店","zzhc.pages.store.detail":"门店介绍","zzhc.pages.goods.select":"选择项目","zzhc.pages.coupon.list":"优惠券列表","zzhc.pages.coupon.detail":"优惠券详情","zzhc.pages.member.coupon":"我的优惠券","zzhc.pages.vip.buy":"开通会员卡","zzhc.pages.member.vip":"我的会员卡","zzhc.pages.merchant.manage.index":"店长端","zzhc.pages.merchant.manage.order.list":"门店订单","zzhc.pages.merchant.manage.order.detail":"订单详情","zzhc.pages.merchant.manage.work.list":"员工考勤","zzhc.pages.merchant.barber.index":"发型师端","zzhc.pages.merchant.barber.order.list":"预约订单","zzhc.pages.merchant.barber.order.detail":"订单详情","zzhc.pages.merchant.barber.work.list":"考勤记录"},l={"pages.index.index":"Index","pages.article.list":"Information Center","pages.article.detail":"Information detail","pages.member.index":"My","pages.auth.login":"Login","pages.auth.register":"Register","pages.auth.resetpwd":"Retrieve password","pages.setting.index":"Settings","pages.auth.bind":"Bind Mobile"};if(!Array){(e.resolveComponent("u-tabbar-item")+e.resolveComponent("u-tabbar"))()}Math||(p+(()=>"../../../node-modules/uview-plus/components/u-tabbar-item/u-tabbar-item.js")+(()=>"../../../node-modules/uview-plus/components/u-tabbar/u-tabbar.js"))();const p=()=>"../../../components/top-tabbar/top-tabbar.js",u=e.defineComponent({__name:"tabbar",setup(p){e.index.hideTabBar();const u=r.getCustomNavigationPages(),c=e.ref(0),g=e.ref({}),b=e.ref({}),d=s.useSystemStore(),m=e.computed((()=>d.currTabbar.path)),h=e.reactive({}),f=e.computed((()=>{if(d.currTabbar.path){let e=d.currTabbar.path.split("/"),a=e[0]?0:1;return"addon"==e[a]?e[a+1]:"app"}return""})),v=e.ref({}),z=e.ref(null),x=e.ref([]),y=()=>{let a=e.cloneDeep(t.useConfigStore().tabbarList);if(1==a.length)Object.assign(h,a[0]);else{let e=!1;for(let r=0;r<a.length;r++)if(a[r].key==f.value){Object.assign(h,a[r]),e=!0;break}if(!e){let e=0,t={};try{a&&a.forEach((a=>{"app"==a.info.type&&(e++,t=a)})),1==e&&Object.assign(h,t)}catch(r){}}}},j=()=>{if(d.currTabbar.path)if(x.value.includes(d.currTabbar.path)||x.value.push(d.currTabbar.path),v.value[d.currTabbar.path]&&v.value[d.currTabbar.path].$)if(-1!=d.currTabbar.path.indexOf("addon")&&o.language.loadAllLocaleMessages("addon",e.index.getLocale()),v.value[d.currTabbar.path].$.root.onLoad.forEach((e=>{e(d.currTabbar.query||{})})),v.value[d.currTabbar.path].$.root.onShow.forEach((e=>{e()})),g.value[d.currTabbar.path]=b.value[d.currTabbar.path]||0,u[d.currTabbar.path])z.value=null;else{let a=d.currTabbar.path.replace("/app/","").replace("/addon/","").replaceAll("/",".");switch(e.index.getLocale()){case"zh-Hans":n[a]&&(a=n[a]);break;case"en":l[a]&&(a=l[a])}z.value={data:{title:a,topStatusBar:{bgColor:"#ffffff",rollBgColor:"#ffffff",style:"style-1",textColor:"#333333",rollTextColor:"#333333",textAlign:"center",imgUrl:"",link:{name:""}}}}}else setTimeout((()=>{c.value++,j()}),300)};e.watch((()=>t.useConfigStore().tabbarList),((e,a)=>{e&&y()}),{deep:!0,immediate:!0}),e.watch((()=>f),((e,a)=>{e&&y()}),{deep:!0,immediate:!0});const k=e=>{const r=a.urlDeconstruction(e);i.tabbarJson.includes(r.path)?s.useSystemStore().$patch((e=>{e.currTabbar=r})):a.redirect({url:e,mode:"navigateTo"})};return e.watch((()=>d.currTabbar),((e,a)=>{j()}),{deep:!0,immediate:!0}),(r,t)=>e.e({a:z.value},z.value?{b:e.p({data:z.value.data,"is-back":!1})}:{},{c:e.t(c.value),d:h&&Object.keys(h).length},h&&Object.keys(h).length?{e:e.f(h.value.list,((r,t,s)=>e.e(1==h.value.type?{a:h.value.backgroundColor,b:e.o((e=>k(r.link.url))),c:"e041ea4e-2-"+s+",e041ea4e-1",d:e.p({text:r.text,icon:e.unref(a.img)(e.unref(m)==r.link.url?r.iconSelectPath:r.iconPath),name:r.link})}:{},2==h.value.type?{e:h.value.backgroundColor,f:e.o((e=>k(r.link.url))),g:"e041ea4e-3-"+s+",e041ea4e-1",h:e.p({icon:e.unref(a.img)(e.unref(m)==r.link.url?r.iconSelectPath:r.iconPath),name:r.link})}:{},3==h.value.type?{i:h.value.backgroundColor,j:e.o((e=>k(r.link.url))),k:"e041ea4e-4-"+s+",e041ea4e-1",l:e.p({text:r.text,name:r.link.url})}:{}))),f:1==h.value.type,g:2==h.value.type,h:3==h.value.type,i:e.p({value:e.unref(m),zIndex:"9999",fixed:!0,placeholder:!0,safeAreaInsetBottom:!0,"inactive-color":h.value.textColor,"active-color":h.value.textHoverColor})}:{})}});u.__runtimeHooks=1;const c=e._export_sfc(u,[["__scopeId","data-v-e041ea4e"]]);tt.createPage(c);

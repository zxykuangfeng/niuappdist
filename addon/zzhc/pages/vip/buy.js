"use strict";const e=require("../../../../common/vendor.js"),r=require("../../api/vip.js");require("../../../../locale/i18n.js"),require("../../../../stores/system.js");const a=require("../../../../utils/common.js");if(require("../../../../utils/request.js"),require("../../../../stores/member.js"),require("../../../../app/api/member.js"),require("../../../../app/api/auth.js"),require("../../../../stores/config.js"),require("../../../../app/stores/diy.js"),require("../../../../hooks/useLogin.js"),require("../../../../locale/index.js"),require("../../../../locale/language.js"),require("../../../../utils/pages.js"),require("../../../../app/api/system.js"),!Array){(e.resolveComponent("u-tabbar")+e.resolveComponent("pay"))()}Math||((()=>"../../../../node-modules/uview-plus/components/u-tabbar/u-tabbar.js")+(()=>"../../../../components/pay/pay.js"))();const t=e.defineComponent({__name:"buy",setup(t){const u=e.ref(null);let n=e.ref([]),s=e.ref([]),o=e.ref(0),i=e.ref(!1),l=e.ref(!1),p=e.ref(0),d=e.ref("");e.onLoad((()=>{f()}));const f=()=>{r.getVipConfig().then((e=>{n.value=e.data,r.getVipList().then((e=>{s.value=e.data,i.value=!0}))}))},m=()=>{var e;l.value=!0;let a={vip_id:s.value[o.value].vip_id};0!=p.value&&""!=d.value?null==(e=u.value)||e.open(d.value,p.value,"/addon/zzhc/pages/member/index"):r.orderCreate(a).then((e=>{var r;p.value=e.data.trade_id,d.value=e.data.trade_type,null==(r=u.value)||r.open(e.data.trade_type,e.data.trade_id,"/addon/zzhc/pages/member/index")})).catch((()=>{l.value=!1}))},v=()=>{l.value=!1};return(r,t)=>e.e({a:e.unref(i)},e.unref(i)?{b:e.unref(a.img)(e.unref(n).banner),c:e.f(e.unref(s),((r,t,u)=>({a:e.t(r.vip_name),b:e.t(e.unref(a.moneyFormat)(r.price)),c:e.t(r.days),d:t,e:e.n(e.unref(o)==t?"border-primary":"border-[#f5f5f5]"),f:e.o((e=>(e=>{o.value=e,p.value=0,d.value=""})(t)))}))),d:e.t(e.unref(n).statement),e:e.t(e.unref(a.moneyFormat)(e.unref(s)[e.unref(o)].price)),f:e.t(e.unref(s)[e.unref(o)].days),g:e.unref(l),h:e.o(m),i:e.p({fixed:!0,placeholder:!0,safeAreaInsetBottom:!0}),j:e.sr(u,"9eeaf210-1",{k:"payRef"}),k:e.o(v),l:e.s(r.themeColor())}:{})}});tt.createPage(t);

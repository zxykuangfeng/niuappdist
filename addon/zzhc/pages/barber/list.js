"use strict";const e=require("../../../../common/vendor.js"),o=require("../../../../locale/index.js"),r=require("../../../../utils/common.js"),s=require("../../api/staff.js"),t=require("../../../../components/mescroll/hooks/useMescroll.js"),a=require("../../utils/common.js");if(require("../../../../locale/i18n.js"),require("../../../../locale/language.js"),require("../../../../utils/pages.js"),require("../../../../stores/system.js"),require("../../../../app/api/system.js"),require("../../../../utils/request.js"),require("../../../../stores/member.js"),require("../../../../app/api/member.js"),require("../../../../app/api/auth.js"),require("../../../../stores/config.js"),require("../../../../app/stores/diy.js"),require("../../../../hooks/useLogin.js"),!Array){(e.resolveComponent("u-icon")+e.resolveComponent("u--image")+e.resolveComponent("tabbar"))()}Math||((()=>"../../../../node-modules/uview-plus/components/u-icon/u-icon.js")+(()=>"../../../../node-modules/uview-plus/components/u--image/u--image.js")+l+n+(()=>"../../../../components/tabbar/tabbar.js"))();const n=()=>"../../../../components/mescroll/mescroll-body/mescroll-body.js",l=()=>"../../../../components/mescroll/mescroll-empty/mescroll-empty.js",i=e.defineComponent({__name:"list",setup(n){const{mescrollInit:l,downCallback:i,getMescroll:u}=t.useMescroll(e.onPageScroll,e.onReachBottom);let c=e.ref([]),d=e.ref(null),m=e.ref(!1);e.onShow((()=>{0==a.currStoreId()&&r.redirect({url:"/addon/zzhc/pages/store/list",mode:"navigateTo"})}));const p=e=>{m.value=!1;let o={page:e.num,limit:e.size,store_id:a.currStoreId()};s.getBarberList(o).then((o=>{let r=o.data.data;1==e.num&&(c.value=[]),c.value=c.value.concat(r),e.endSuccess(r.length),m.value=!0})).catch((()=>{m.value=!0,e.endErr()}))};return e.onMounted((()=>{setTimeout((()=>{u().optUp.textNoMore=o.t("end")}),500)})),(o,s)=>e.e({a:e.f(e.unref(c),((o,s,t)=>e.e({a:"d190c7d6-2-"+t+",d190c7d6-1-"+t,b:"d190c7d6-1-"+t+",d190c7d6-0",c:e.p({width:"175rpx",height:"175rpx",src:e.unref(r.img)(o.staff_headimg),model:"aspectFill"}),d:e.t(o.staff_name),e:e.t(o.staff_position),f:e.t(o.wait_people),g:e.t(o.wait_duration),h:null!=o.work&&("working"==o.work.status||"meal"==o.work.status||"thing"==o.work.status)},null==o.work||"working"!=o.work.status&&"meal"!=o.work.status&&"thing"!=o.work.status?(null!=o.work&&o.work.status,{}):{i:e.o((e=>{return s=o.staff_id,void r.redirect({url:"/addon/zzhc/pages/goods/select?staff_id="+s,mode:"navigateTo"});var s}))},{j:null!=o.work&&"stop"==o.work.status,k:s,l:e.o((e=>{return s=o.staff_id,void r.redirect({url:"/addon/zzhc/pages/barber/detail?staff_id="+s,mode:"navigateTo"});var s}))}))),b:e.p({name:"photo",color:"var(--primary-color-dark)",size:"50"}),c:!e.unref(c).length&&e.unref(m)},!e.unref(c).length&&e.unref(m)?{d:e.p({option:{tip:"暂无发型师"}})}:{},{e:e.sr(d,"d190c7d6-0",{k:"mescrollRef"}),f:e.o(e.unref(l)),g:e.o(e.unref(i)),h:e.o(p),i:e.p({addon:"zzhc"}),j:e.s(o.themeColor())})}});i.__runtimeHooks=1,tt.createPage(i);

"use strict";const e=require("../../../../common/vendor.js"),t={name:"u-input",mixins:[e.mpMixin,e.mixin,e.props$4],data:()=>({clearInput:!1,innerValue:"",focused:!1,firstChange:!0,changeFromInner:!1,innerFormatter:e=>e}),watch:{modelValue:{immediate:!0,handler(e,t){this.innerValue=e,this.firstChange=!1,this.changeFromInner=!1}}},computed:{isShowClear(){const{clearable:e,readonly:t,focused:n,innerValue:i}=this;return!!e&&!t&&!!n&&""!==i},inputClass(){let e=[],{border:t,disabled:n,shape:i}=this;return"surround"===t&&(e=e.concat(["u-border","u-input--radius"])),e.push(`u-input--${i}`),"bottom"===t&&(e=e.concat(["u-border-bottom","u-input--no-radius"])),e.join(" ")},wrapperStyle(){const t={};return this.disabled&&(t.backgroundColor=this.disabledColor),"none"===this.border?t.padding="0":(t.paddingTop="6px",t.paddingBottom="6px",t.paddingLeft="9px",t.paddingRight="9px"),e.deepMerge(t,e.addStyle(this.customStyle))},inputStyle(){return{color:this.color,fontSize:e.addUnit(this.fontSize),textAlign:this.inputAlign}}},emits:["update:modelValue","focus","blur","change","confirm","clear","keyboardheightchange"],methods:{setFormatter(e){this.innerFormatter=e},onInput(e){let{value:t=""}=e.detail||{};const n=(this.formatter||this.innerFormatter)(t);this.innerValue=t,this.$nextTick((()=>{this.innerValue=n,this.valueChange()}))},onBlur(t){this.$emit("blur",t.detail.value),e.sleep(150).then((()=>{this.focused=!1})),e.formValidate(this,"blur")},onFocus(e){this.focused=!0,this.$emit("focus")},onConfirm(e){this.$emit("confirm",this.innerValue)},onkeyboardheightchange(e){this.$emit("keyboardheightchange",e)},valueChange(){this.clearInput&&(this.innerValue="",this.clearInput=!1);const t=this.innerValue;this.$nextTick((()=>{this.$emit("update:modelValue",t),this.changeFromInner=!0,this.$emit("change",t),e.formValidate(this,"change")}))},onClear(){this.clearInput=!0,this.innerValue="",this.$nextTick((()=>{this.valueChange(),this.$emit("clear")}))},clickHandler(){}}};if(!Array){e.resolveComponent("u-icon")()}Math;const n=e._export_sfc(t,[["render",function(t,n,i,o,r,s){return e.e({a:t.prefixIcon||t.$slots.prefix},t.prefixIcon||t.$slots.prefix?{b:e.p({name:t.prefixIcon,size:"18",customStyle:t.prefixIconStyle})}:{},{c:e.s(s.inputStyle),d:t.type,e:t.focus,f:t.cursor,g:r.innerValue,h:t.autoBlur,i:t.disabled||t.readonly,j:t.maxlength,k:t.placeholder,l:t.placeholderStyle,m:t.placeholderClass,n:t.confirmType,o:t.confirmHold,p:t.holdKeyboard,q:t.cursorSpacing,r:t.adjustPosition,s:t.selectionEnd,t:t.selectionStart,v:t.password||"password"===t.type||!1,w:t.ignoreCompositionEvent,x:e.o(((...e)=>s.onInput&&s.onInput(...e))),y:e.o(((...e)=>s.onBlur&&s.onBlur(...e))),z:e.o(((...e)=>s.onFocus&&s.onFocus(...e))),A:e.o(((...e)=>s.onConfirm&&s.onConfirm(...e))),B:e.o(((...e)=>s.onkeyboardheightchange&&s.onkeyboardheightchange(...e))),C:e.o(((...e)=>s.clickHandler&&s.clickHandler(...e))),D:s.isShowClear},s.isShowClear?{E:e.p({name:"close",size:"11",color:"#ffffff",customStyle:"line-height: 12px"}),F:e.o(((...e)=>s.onClear&&s.onClear(...e)))}:{},{G:t.suffixIcon||t.$slots.suffix},t.suffixIcon||t.$slots.suffix?{H:e.p({name:t.suffixIcon,size:"18",customStyle:t.suffixIconStyle})}:{},{I:e.n(s.inputClass),J:e.s(s.wrapperStyle)})}],["__scopeId","data-v-633034cd"]]);tt.createComponent(n);

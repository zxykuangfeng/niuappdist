"use strict";const e=require("../common/vendor.js"),s=require("../utils/common.js");require("../utils/request.js"),require("../stores/member.js");const i=require("../stores/config.js"),o=require("../stores/system.js");exports.useLogin=function(){return{setLoginBack:s=>{e.index.setStorage({key:"loginBack",data:s}),setTimeout((()=>{i.useConfigStore(),o.useSystemStore()}))},handleLoginBack:()=>{e.index.removeStorageSync("autoLoginLock"),e.index.getStorage({key:"loginBack",success:e=>{e?s.redirect({...e.data,mode:"redirectTo"}):s.redirect({url:"/app/pages/index/index",mode:"switchTab"})},fail:e=>{s.redirect({url:"/app/pages/index/index",mode:"switchTab"})}})},authLogin:e=>{e.code,e.nickname,e.headimg,e.mobile,e.mobile_code},updateOpenid:(e,s=null)=>{},getAuthCode:(e={})=>{e.scopes=e.scopes||"snsapi_base",e.updateFlag=e.updateFlag||!1,e.backFlag=e.backFlag||!1,e.successCallback=e.successCallback||null,e.nickname=e.nickname||"",e.headimg=e.headimg||"",e.mobile=e.mobile||"",e.mobile_code=e.mobile_code||""}}};

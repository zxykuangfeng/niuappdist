"use strict";const e=require("../common/vendor.js"),t=require("../locale/index.js"),s=require("../app/api/system.js");exports.useSendSms=function(a){const n=e.ref(t.t("getSmsCode")),r="X"+t.t("smsCodeChangeText"),u=e.computed((()=>!a.value||a.value.canGetCode));return{tips:n,seconds:90,canGetCode:u,send:async e=>{if(!u.value)return;a.value.start();let t=!1;return await s.sendSms(e).then((e=>{1==e.code?t=e.data.key:(a.value.reset(),t=!1)})).catch((e=>{t=!1,a.value.reset()})),t},codeChange:e=>{n.value=e},changeText:r}};

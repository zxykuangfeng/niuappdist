"use strict";var e=Object.defineProperty,a=(a,s,o)=>(((a,s,o)=>{s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[s]=o})(a,"symbol"!=typeof s?s+"":s,o),o);const s=require("../common/vendor.js"),o=require("../utils/pages.js"),r=(e,a)=>{const s=e[a];return s?"function"==typeof s?s():Promise.resolve(s):new Promise(((e,s)=>{("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+a)))}))};exports.Language=class{constructor(e){a(this,"i18n"),a(this,"loadLocale",[]),a(this,"path",""),a(this,"getFileKey",(e=>{const a=e.split("/");let s="app"==a[1]?a[1]:a[2],o="/"==e?"pages.index.index":e.replace("/","").replaceAll("/","."),r="";return"app"==s?(r=o.replace("app.",""),o=o.replace("app.","")):(r=o.replace("addon.",""),o=o.replace(`addon.${s}.`,"")),{file:o,fileKey:r,route:s}})),this.i18n=e}setI18nLanguage(e,a=""){this.i18n.global.locale!=e&&(this.i18n.global.locale=e,a&&(this.path=a),s.index.setLocale(e))}loadAllLocaleMessages(e,a){("app"==e?o.getAppPages():o.getSubPackagesPages()).forEach((e=>{this.loadLocaleMessages(e,a)}))}async loadLocaleMessages(e,a){try{const{route:o,file:l,fileKey:p}=this.getFileKey(e);if(this.loadLocale.includes(`${p}.${a}`))return this.setI18nLanguage(a,l),s.nextTick$1();const n=await("app"==o?r(Object.assign({"../app/locale/en/pages.setting.index.json":()=>Promise.resolve(require("../app/locale/en/pages.setting.index.js")),"../app/locale/zh-Hans/pages.article.detail.json":()=>Promise.resolve(require("../app/locale/zh-Hans/pages.article.detail.js")),"../app/locale/zh-Hans/pages.article.list.json":()=>Promise.resolve(require("../app/locale/zh-Hans/pages.article.list.js")),"../app/locale/zh-Hans/pages.auth.bind.json":()=>Promise.resolve(require("../app/locale/zh-Hans/pages.auth.bind.js")),"../app/locale/zh-Hans/pages.auth.index.json":()=>Promise.resolve(require("../app/locale/zh-Hans/pages.auth.index.js")),"../app/locale/zh-Hans/pages.auth.login.json":()=>Promise.resolve(require("../app/locale/zh-Hans/pages.auth.login.js")),"../app/locale/zh-Hans/pages.auth.register.json":()=>Promise.resolve(require("../app/locale/zh-Hans/pages.auth.register.js")),"../app/locale/zh-Hans/pages.auth.resetpwd.json":()=>Promise.resolve(require("../app/locale/zh-Hans/pages.auth.resetpwd.js")),"../app/locale/zh-Hans/pages.friendspay.money.json":()=>Promise.resolve(require("../app/locale/zh-Hans/pages.friendspay.money.js")),"../app/locale/zh-Hans/pages.friendspay.share.json":()=>Promise.resolve(require("../app/locale/zh-Hans/pages.friendspay.share.js")),"../app/locale/zh-Hans/pages.index.develop.json":()=>Promise.resolve(require("../app/locale/zh-Hans/pages.index.develop.js")),"../app/locale/zh-Hans/pages.member.account.json":()=>Promise.resolve(require("../app/locale/zh-Hans/pages.member.account.js")),"../app/locale/zh-Hans/pages.member.account_edit.json":()=>Promise.resolve(require("../app/locale/zh-Hans/pages.member.account_edit.js")),"../app/locale/zh-Hans/pages.member.address.json":()=>Promise.resolve(require("../app/locale/zh-Hans/pages.member.address.js")),"../app/locale/zh-Hans/pages.member.address_edit.json":()=>Promise.resolve(require("../app/locale/zh-Hans/pages.member.address_edit.js")),"../app/locale/zh-Hans/pages.member.apply_cash_out.json":()=>Promise.resolve(require("../app/locale/zh-Hans/pages.member.apply_cash_out.js")),"../app/locale/zh-Hans/pages.member.balance.json":()=>Promise.resolve(require("../app/locale/zh-Hans/pages.member.balance.js")),"../app/locale/zh-Hans/pages.member.cash_out.json":()=>Promise.resolve(require("../app/locale/zh-Hans/pages.member.cash_out.js")),"../app/locale/zh-Hans/pages.member.cash_out_detail.json":()=>Promise.resolve(require("../app/locale/zh-Hans/pages.member.cash_out_detail.js")),"../app/locale/zh-Hans/pages.member.commission.json":()=>Promise.resolve(require("../app/locale/zh-Hans/pages.member.commission.js")),"../app/locale/zh-Hans/pages.member.detailed_account.json":()=>Promise.resolve(require("../app/locale/zh-Hans/pages.member.detailed_account.js")),"../app/locale/zh-Hans/pages.member.location_address_edit.json":()=>Promise.resolve(require("../app/locale/zh-Hans/pages.member.location_address_edit.js")),"../app/locale/zh-Hans/pages.member.personal.json":()=>Promise.resolve(require("../app/locale/zh-Hans/pages.member.personal.js")),"../app/locale/zh-Hans/pages.member.recharge_record.json":()=>Promise.resolve(require("../app/locale/zh-Hans/pages.member.recharge_record.js")),"../app/locale/zh-Hans/pages.member.recharge_record_detail.json":()=>Promise.resolve(require("../app/locale/zh-Hans/pages.member.recharge_record_detail.js")),"../app/locale/zh-Hans/pages.member.withdrawal_detail.json":()=>Promise.resolve(require("../app/locale/zh-Hans/pages.member.withdrawal_detail.js")),"../app/locale/zh-Hans/pages.setting.index.json":()=>Promise.resolve(require("../app/locale/zh-Hans/pages.setting.index.js"))}),`../${o}/locale/${a}/${l}.json`):r(Object.assign({"../addon/zzhc/locale/zh-Hans/pages.order.detail.json":()=>Promise.resolve(require("../addon/zzhc/locale/zh-Hans/pages.order.detail.js")),"../addon/zzhc/locale/zh-Hans/pages.order.list.json":()=>Promise.resolve(require("../addon/zzhc/locale/zh-Hans/pages.order.list.js"))}),`../addon/${o}/locale/${a}/${l}.json`));let i={};return Object.keys(n.default).forEach((e=>{i[`${p}.${e}`]=n.default[e]})),this.i18n.global.mergeLocaleMessage(a,i),this.setI18nLanguage(a,l),this.loadLocale.push(`${p}.${a}`),s.nextTick$1()}catch(o){return this.setI18nLanguage(a),s.nextTick$1()}}};
